
@model NewRequirementViewModel

<form asp-controller="Requirements" asp-action="Create" method="post" class="space-y-6">
    <div asp-validation-summary="ModelOnly" class="text-red-500 text-sm mb-4"></div>
    
    <div>
        <label asp-for="Title" class="form-label">Requirement Title</label>
        <input asp-for="Title" class="form-input" placeholder="Enter a clear title for your requirement" />
        <p class="text-sm text-muted-foreground mt-1">Keep it concise and specific</p>
        <span asp-validation-for="Title" class="text-red-500 text-sm"></span>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
            <label asp-for="Category" class="form-label">Category</label>
            <select asp-for="Category" class="form-select">
                <option value="Feature">Feature</option>
                <option value="Bug">Bug</option>
                <option value="UI/UX">UI/UX</option>
                <option value="Performance">Performance</option>
                <option value="Security">Security</option>
                <option value="Other">Other</option>
            </select>
            <span asp-validation-for="Category" class="text-red-500 text-sm"></span>
        </div>
        
        <div>
            <label asp-for="Priority" class="form-label">Priority</label>
            <select asp-for="Priority" class="form-select">
                <option value="Critical">Critical</option>
                <option value="High">High</option>
                <option value="Medium">Medium</option>
                <option value="Low">Low</option>
            </select>
            <span asp-validation-for="Priority" class="text-red-500 text-sm"></span>
        </div>
    </div>
    
    <div>
        <label asp-for="Description" class="form-label">Description</label>
        <textarea asp-for="Description" class="form-textarea" rows="5" 
                  placeholder="Describe the requirement in detail"></textarea>
        <p class="text-sm text-muted-foreground mt-1">
            Include what, why, and any specific details that will help understand your need
        </p>
        <span asp-validation-for="Description" class="text-red-500 text-sm"></span>
    </div>
    
    <div>
        <label asp-for="ProjectArea" class="form-label">Project Area</label>
        <select asp-for="ProjectArea" class="form-select">
            <option value="Frontend">Frontend</option>
            <option value="Backend">Backend</option>
            <option value="Database">Database</option>
            <option value="Infrastructure">Infrastructure</option>
            <option value="Mobile">Mobile</option>
            <option value="General">General</option>
        </select>
        <span asp-validation-for="ProjectArea" class="text-red-500 text-sm"></span>
    </div>
    
    <div>
        <label asp-for="AcceptanceCriteria" class="form-label">Acceptance Criteria</label>
        <textarea asp-for="AcceptanceCriteria" class="form-textarea" rows="3"
                  placeholder="Describe how this requirement will be verified as complete"></textarea>
        <span asp-validation-for="AcceptanceCriteria" class="text-red-500 text-sm"></span>
    </div>
    
    <div>
        <label asp-for="TargetDate" class="form-label">Target Date</label>
        <input asp-for="TargetDate" type="date" class="form-input" />
        <span asp-validation-for="TargetDate" class="text-red-500 text-sm"></span>
    </div>
    
    <div class="border-t pt-6">
        <h3 class="text-sm font-medium mb-4">Your Information</h3>
        
        <div class="flex items-start space-x-3 p-4 border rounded-md mb-4">
            <input type="checkbox" asp-for="IsAnonymous" id="isAnonymous" class="form-checkbox mt-1" />
            <div>
                <label for="isAnonymous" class="font-medium">Submit Anonymously</label>
                <p class="text-sm text-muted-foreground">
                    Your name and email won't be displayed if you check this option
                </p>
            </div>
        </div>
        
        <div id="contactInfo" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <label asp-for="CustomerName" class="form-label">Your Name</label>
                <input asp-for="CustomerName" class="form-input" placeholder="Enter your name" />
                <span asp-validation-for="CustomerName" class="text-red-500 text-sm"></span>
            </div>
            
            <div>
                <label asp-for="CustomerEmail" class="form-label">Your Email</label>
                <input asp-for="CustomerEmail" type="email" class="form-input" placeholder="Enter your email" />
                <span asp-validation-for="CustomerEmail" class="text-red-500 text-sm"></span>
            </div>
        </div>
    </div>
    
    <button type="submit" class="btn btn-primary w-full">
        Submit Requirement
    </button>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const anonymousCheckbox = document.getElementById('isAnonymous');
        const contactInfoDiv = document.getElementById('contactInfo');
        
        function toggleContactInfo() {
            if (anonymousCheckbox.checked) {
                contactInfoDiv.classList.add('opacity-50', 'pointer-events-none');
            } else {
                contactInfoDiv.classList.remove('opacity-50', 'pointer-events-none');
            }
        }
        
        anonymousCheckbox.addEventListener('change', toggleContactInfo);
        toggleContactInfo();
    });
</script>
